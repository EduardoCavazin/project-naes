{% extends "core/models/form_base.html" %}
{% load crispy_forms_tags %}

{% block form_title %}{{ titulo }}{% endblock form_title %}
{% block form_subtitle %}
  <p class="text-muted">Informe os dados do m√©todo de pagamento</p>
{% endblock form_subtitle %}

{% block form_fields %}
  {{ form|crispy }}
{% endblock form_fields %}

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const supportsInstallmentsField = document.getElementById('id_supports_installments');
    const maxInstallmentsField = document.getElementById('id_max_installments');
    
    function updateMaxInstallmentsVisibility() {
      if (supportsInstallmentsField.checked) {
        maxInstallmentsField.parentElement.style.display = 'block';
      } else {
        maxInstallmentsField.parentElement.style.display = 'none';
      }
    }
    
    updateMaxInstallmentsVisibility();
    
    supportsInstallmentsField.addEventListener('change', updateMaxInstallmentsVisibility);
  });
</script>
{% endblock extra_js %}